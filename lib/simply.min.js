/*
 * SimplyJS JavaScript Library v0.3.4 [alpha; unstable]
 * Date: 2016-12-06 11:34
 *
 * http://www.simplyjs.org
 *
 * Just simple JavaScript framework. Provides support for manipulating with DOM and events handling.
 * Easy for use, optimized for performance, native browser's support first.
 *
 * Author: Jan Elznic - http://www.janelznic.cz
 * Some parts of the code were taken from http://jak.seznam.cz & http://jquery.com
 *
 * Released under the MIT license - included in LICENSE file
 */
var $=function(e,b){if(e.indexOf("#")===0&&e.indexOf(" ")===-1){return $.gel(e.slice(1))}var d=(b||document).querySelectorAll(e);if(!d.length){return null}var f=new Array(d.length);for(var c=0,a=d.length;a>c;c++){f[c]=d[c]}return f};$._events={};$.gel=function(c,a){var b=a||document;if(typeof(c)=="string"){return b.getElementById(c)}return c};$.addListener=function(g,b,e,c,a){e=e||window;a=a||false;var f=$.getRandomId();var d=e;if(c){if(typeof(c)=="string"){if(typeof(e[c])!="function"){throw new Error("addListener: arguments[3] must be method of arguments[2]")}d=function(h){e[c](h,g,f)}}else{d=function(h){c.call(e,h,g,f)}}}else{if(typeof(e)=="function"){d=function(h){e(h,g,f)}}else{if(!document.addEventListener){d=function(h){h.currentTarget=g;e.handleEvent(h)}}}}this._addListener(g,b,d,a);this._events[f]={elm:g,type:b,action:d,capture:a};return f};$._addListener=function(h,f,g,b){var e=f.split(" ");for(var d=0,a=e.length;a>d;d++){var c=e[d];if(h.addEventListener){h.addEventListener(c,g,b)}else{h.attachEvent("on"+c,g)}}};$.removeListener=function(b){if(!(b in this._events)){throw new Error("Cannot remove non-existent event ID '"+b+"'")}var a=this._events[b];this._removeListener(a.elm,a.type,a.action,a.capture);delete this._events[b]};$._removeListener=function(h,f,g,b){var e=f.split(" ");for(var d=0,a=e.length;a>d;d++){var c=e[d];if(h.removeEventListener){h.removeEventListener(c,g,b)}else{h.detachEvent("on"+c,g)}}};$.removeListeners=function(a){while(a.length){this.removeListener(a.shift())}};$.removeAllListeners=function(){for(var a in this._events){this.removeListener(a)}};$.cancelEvent=function(a){var a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};$.stopEvent=function(a){var a=a||window.event;if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};$.getEventTarget=function(a){var a=a||window.event;return a.target||a.srcElement};$.hasClass=function(a,b){return a.classList.contains(b)};$.cel=function(e,a,g,j){var k=j||document;var f=k.createElement(e);if(a){var c=typeof(a);if(c=="string"){$.addClass(f,a)}else{if(c=="object"){for(var h in a){f[h]=a[h]}}}}if(g){$.setStyle(f,g)}return f};$.text=function(c,a){var b=a||document;return b.createTextNode(c)};$.addClass=function(c,b){var a=function(d){d.split(" ").forEach(function(e){c.classList.add(e)})};if(typeof(b)=="string"){a(b)}else{b.forEach(function(d){if(typeof(d)!="string"){throw new Error("addClass: arguments[1][0] must be a string")}else{a(d)}})}};$.removeClass=function(c,b){var a=function(d){d.split(" ").forEach(function(e){c.classList.remove(e)})};if(typeof(b)=="string"){a(b)}else{b.forEach(function(d){if(typeof(d)!="string"){throw new Error("removeClass: arguments[1][0] must be a string")}else{a(d)}})}};$.removeChilds=function(a){while(a.firstChild){a.removeChild(a.firstChild)}};$.append=function(){for(var e=0,b=arguments.length,f;b>e;e++){var a=arguments[e];f=a[0];for(var d=1,c=a.length;c>d;d++){f.appendChild(a[d])}}};$.getStyle=function(c,b){if(document.defaultView&&document.defaultView.getComputedStyle){var a=c.ownerDocument.defaultView.getComputedStyle(c,"");if(!a){return false}return a[b]}return c.currentStyle[b]};$.setStyle=function(c,b){for(var a in b){c.style[a]=b[a]}};$.arrayFromCollection=function(c){var b=[];try{b=Array.prototype.slice.call(c)}catch(f){for(var d=0,a=c.length;a>d;d++){b.push(c[d])}}finally{return b}};$.shuffleArray=function(d){var c=d.length,b,a;while(0!==c){a=Math.floor(Math.random()*c);c-=1;b=d[c];d[c]=d[a];d[a]=b}return d};$.shuffleObject=function(e){var d=[];for(key in e){d.push(key)}d=$.shuffleArray(d);for(var c=0,a=d.length,b={};a>c;c++){b[d[c]]=e[d[c]]}return b};$.objectLength=function(b){var a=0;for(i in b){a++}return a};$.getKeyByIndex=function(c,a){var b=0;for(key in c){if(b===a){return key}b++}};$.sliceObject=function(c,e,d){if(arguments.length===2){d=arguments[1];e=0}var a={};var b=0;for(key in c){if(e<=b&&d>=b){a[key]=c[key]}if(b>=d){break}b++}return a};$.separateJS=function(d){var c=[];var a={};var b=d.replace(/<script.*?>([\s\S]*?)<\/script>/g,function(e,f){c.push(f);return""});return[b,c.join("\n")]};$.findParent=function(f,b){var g=(b||"").match(/[#.]?[a-z0-9_-]+/ig)||[];var h=f.parentNode;while(h&&h!=document){var e=true;for(var d=0,a=g.length;a>d;d++){var c=g[d];switch(c.charAt(0)){case"#":if(h.id!=c.substring(1)){e=false}break;case".":if(!$.hasClass(h,c.substring(1))){e=false}break;default:if(h.nodeName.toLowerCase()!=c.toLowerCase()){e=false}break}}if(e){return h}h=h.parentNode}return null};$.random=function(b,a){return Math.floor((Math.random()*a)+b)};$.getRandomId=function(){this._idCounter=(this._idCounter<10000000?this._idCounter:0);var a="m"+new Date().getTime().toString(16)+"m"+this._idCounter.toString(16);this._idCounter++;return a};$.getDevice=function(c){var d=$.gel(c);if(!d){d=$.cel("div",{id:c},{display:"none"});var a=document.body;a.insertBefore(d,a.firstChild)}return($.getStyle(d,"content")).replace(/"/g,"")};$.async=function(b,c){var a=typeof(b);if(a=="string"){if(typeof(obj[b])!="function"){throw new Error("async: arguments[0] must be method of arguments[1]")}setTimeout(c[b].call(c),0)}else{setTimeout(b.call(c),0)}};$.getPlatform=function(){var a=navigator.userAgent||navigator.vendor||window.opera;if(a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)){return"ios"}else{if(a.match(/Android/i)){return"android"}else{if(a.match(/BB10/i)){return"blackberry"}else{if(a.match(/Linux/i)||a.match(/X11/i)){return"unix"}else{if(a.match(/Win/i)){return"windows"}else{if(a.match(/Mac/i)){return"mac"}else{return false}}}}}}};$.getClient=function(){if(window.opera){return"opera"}else{if(navigator.userAgent.indexOf("Edge")!=-1){return"edge"}else{if(window.chrome){return"chrome"}else{if(("all" in document)&&("systemLanguage" in navigator)){return"ie"}else{if(document.getAnonymousElementByAttribute||"mozPaintCount" in window){return"gecko"}else{if(navigator.userAgent.indexOf("KHTML")!=-1){if(navigator.vendor=="KDE"){return"konqueror"}else{if(navigator.vendor.indexOf("Apple")!=-1){return"safari"}else{return false}}}else{return false}}}}}}};